# mahjong

tablemake.cpp:

〇概要

・14人参加12節開催の麻雀リーグ戦の組み合わせ表の計算プログラム.
・リーグ戦において同じ人と当たりすぎる(一方である人とは当たらなさすぎる)ような組み合わせだと良くないのでなるべく均等になるようにする.

〇作成の動機

・ググっても14人12節では良い感じの組み合わせを出してくれるやつが見当たらなかったので自作することに.

〇アルゴリズム

・初期組み合わせを乱数で適当に作る...initialize()

・当たりすぎているところをあまり当たっていないところと入れ替える...update()

・『当たりすぎている』ということを評価する関数 violation() が 0 になるか時間的な都合で打ち切るまで update() を繰り返す...climbing()

〇計算量

・violation() : O(n^2)

・update() : O(n^3 * m * O(violation()))

・climbing() : O(T * update()) // Tは自分で決めた update() の実行上限.

・全体でO(T * n^5 * m) // 今 T = 12でやってて結構カツい. 最適解に辿り着かないこともある.

〇改善点

・時間的には余裕があるハズだけど結構な割合でｾｸﾞﾌｫる. どおして...

・もう少し見やすく書く.

・計算量落ちないかなぁ(分からない). 多分 update() 内部の violation() 計算で全部を見る必要がないからそこで落とせる.

・人数とかについて融通利くようにしたい(これは後回し).
